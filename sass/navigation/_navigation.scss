/**
  * This file contains all navigation related styles 
  */

.main-navigation {
    
    width: 100%;
    background-color: transparent;
    
    /* general ul styles */
    ul {
        list-style: none;
        margin: 0;
        padding-left: 0;
    }
    
    /* global nav links styles */
    a {
        display: block;
        text-decoration: none;
    }
    
    /* #primary-menu */
    .menu {        
        display: none; /* hide until toggle class is added */
        background-color: #ffffff;
        position: absolute;
        left: 0;
        right: 0;
        z-index: 1002;
        top: 100%;
        li {
            float: none;
            position: relative;
            a {
                padding: 0.5em 1.5em;
                text-align: center;
                white-space: nowrap;
                width: 100%;
                &:hover {
                    background-color: rgba(255,255,255,0.35);
                }
            }
        }
        a, 
        .fa {
            color: $hero-color; 
            line-height: 2;
        }
        
        .menu-item-has-children {
            > a {
                padding-right: 1.65em;
            }
            > button {
                position: absolute;
                top: 3px;
                right: 6px;
                line-height: inherit;
                background-color: transparent;
                border: none;
                font-size: 125%;
                padding: 0 0.5em;
                z-index: 99999;
                > .fa {
                    color: $hero-color;
                }
            }
        }
        
        .sub-menu {
            float: left;
            position: absolute;
            top: 100%;
            left: -999em;
            z-index: 99999;
            > li,
            li a {
                width: 100%;
            }
            li {
                &:hover > ul,
                &.focus > ul {
                    left: 100%;
                }
            }
            &.toggled {
                background-color: $color-light;
                position: initial;
                float: none;
                display: block;
                z-index: initial;
                box-shadow: inset 0 1px 2px $color-dark;
            }
        }
    }

    /* .main-navigation.toggled */
    &.toggled .menu {
        box-shadow: inset 0 1px 2px $color-dark;
        @include box-shadow-dual;
        margin: 0;
        padding: 0.5em 0;
        width: 100%; /* fixes width issue on mobile nav menu */
        display: block;
    }
    
    /* button.menu-toggle */
    .menu-toggle {
        display: block;
        background-color: transparent;
        margin-right: 3px;
        margin-left: auto;
        width: 3.6em;
        border-width: 0;
        > i {
            font-size: 2em;
            color: $hero-color;
        }
    }


    @media #{$tablet__breakpoint} {
        /* .main-navigation */
        ul.menu {
            background-color: transparent;
            display: flex;
            justify-content: flex-end;
            position: relative;
            left: auto; 
            right: auto;
            top: auto;
            z-index: initial;
            .menu-item-has-children {
                > button {
                    top: 50%;
                    transform: translateY(-50%);
                    right: -10px;
                }
            }
            
            li:hover > ul,
            li.focus > ul {
                left: auto;
            }
            
            .sub-menu {
                float: none;
                display: block;
                z-index: initial;
                li a {
                    text-align: left;
                }
                &.toggled {
                    position: absolute;
                }
            }
            .sub-menu,
            .sub-menu.toggled {
                background-color: rgba(255,255,255,0.85);
                box-shadow: -2px 4px 5px rgba(0, 0, 0, 0.2);
                /* allows for clickable sub-menu toggle */
                left: -999em;
            }
        }
        
        /* hide hamburger menu on tablet */
        .menu-toggle {
            display: none;
	}
        
        &.toggled .menu {
            display: flex;
            box-shadow: none;
        }
   
    }

    @media #{$desktop__breakpoint} {
        ul.menu {
            .sub-menu,
            .sub-menu.toggled {
                background-color: rgba(255,255,255,0.35);
            }
            .menu-item-has-children {
                > button {
                    right: -6px;
                }
            }
        }
    }
    
}

.comment-navigation,
.posts-navigation,
.post-navigation {

	.site-main & {
		margin: 0 0 1.5em;
		overflow: hidden;
	}

	.nav-previous {
		float: left;
		width: 50%;
	}

	.nav-next {
		float: right;
		text-align: right;
		width: 50%;
	}
}

/* Links */
.header-sticky {
    .main-navigation:not(.toggled) {
    a, .fa,
    a + .dropdown-toggle > i.fa {
        color: white;
    }
    .main-navigation.toggled {
        a + .dropdown-toggle > i.fa {
            color: white;
        }
    }
}
}



/**
  * Make last list item stand out
  */
/*.main-navigation ul.menu > li {
    &:last-child {
        @include border(3px, $hero-green);
        //background-color: $hero-green;
        @include border-radius;
        > a {
            //color: $color-light;
            //@include box-shadow;
            
        }
        
    }
}*/


/*** Old styles **/
/* Small menu. */
// .menu-toggle refers to the hamburger icon
/*.menu-toggle,
.main-navigation.toggled ul {
	display: block;
        background-color: transparent;
        margin-right: 3px;
        margin-left: auto;
        width: 3.6em;
        border-width: 0;
        > i {
            font-size: 2em;
        }
}*/

/*#primary-menu {
    @media #{$mobile-only__breakpoint} {
        background-color: transparent;
        //@include border(2px, green);
        a,
        .fa {
            color: $hero-color; 
            line-height: 2;
            //border-bottom: 1px solid $color-light;
        }
        .sub-menu.toggled {
            background-color: $color-light;
            @include box-shadow-inset;
        }
    }
}*/

/*.toggled #primary-menu {
    box-shadow: inset 0 1px 2px $color-dark;
    @include box-shadow-dual;
    margin: 0;
    padding: 0.5em 0;
    width: 100%;  fixes width issue on mobile nav menu 
}*/